<header class="navbar">
  <div class="logo">
    <a [routerLink]="['/task-list', username]">
      <img alt="Logo" class="logo-icon" height="30px" src="assets/icon.png" style="padding-right: 7px; top:5.5px; position:relative "
           width="auto"/>
      TodoProj
    </a>
  </div>


  <nav class="nav-links">
    <a
      [routerLinkActiveOptions]="{ exact: true }"
      [routerLink]="['/table', username]"
      routerLinkActive="active"
    >Table</a>

    <a
      [routerLinkActiveOptions]="{ exact: true }"
      [routerLink]="['/task-list', username]"
      routerLinkActive="active"
    >Task list</a>

    <a
      [routerLinkActiveOptions]="{ exact: true }"
      [routerLink]="['/completed-task', username]"
      routerLinkActive="active"
    >Completed</a>
  </nav>


  <div (click)="toggleMenu()" class="user-menu">
    <span class="user-label">
      <span class="user-icon">👤</span>
      <strong>{{ username }}</strong>
    </span>

    <div [class.open]="menuOpen" class="dropdown-menu">
      <ng-container *ngIf="username === 'guest'; else loggedInBlock">
        <a [routerLink]="['/login']" class="menu-link">Sign in</a>
      </ng-container>

      <ng-template #loggedInBlock>
        <div class="menu-info">Logged in as <strong>{{ username }}</strong></div>
        <button (click)="logout($event)" class="menu-button">Logout</button>
      </ng-template>
    </div>
  </div> <!-- ✅ ← THIS closes .user-menu -->
</header>
