<!-- READ VIEW -->
<span (dblclick)="startEdit()"
      *ngIf="!editing"
      [ngClass]="{ 'completed': isChecked }"
      class="display-span"
      style="cursor: pointer; display: inline-block; text-decoration: underline;">
  {{ (displayValue ?? value) || placeholder }}
</span>

<!-- HIDDEN FOR WIDTH MEASUREMENT (if needed) -->
<span #mirror class="mirror-span">
  {{ (localValue || placeholder || 'X') + (type === 'number' ? '\u2002Z' : '') }}
</span>

<!-- EDIT MODE: wrapped for layout control -->
<div class="input-wrapper">
  <input #inputRef
         (blur)="submit()"
         (input)="resizeInput()"
         (keyup.enter)="submit()"
         (keyup.escape)="cancel()"
         *ngIf="editing"
         [(ngModel)]="localValue"
         [max]="max ?? null"
         [min]="min ?? null"
         [placeholder]="placeholder"
         [type]="type"
         class="inline-edit"/>
</div>
